---
interface Props {
  title: string;
  slug: string;
  category: string;
  description?: string;
  tags?: string[];
  status?: string;
}

const { title, slug, category, description, tags = [], status } = Astro.props;

const categoryInfo: Record<string, { icon: string; name: string }> = {
  archaeology: { icon: 'ğŸ›ï¸', name: 'Archaeology' },
  anatomy: { icon: 'ğŸ§ ', name: 'Anatomy' },
  taxonomy: { icon: 'ğŸŒ³', name: 'Taxonomy' },
  ethology: { icon: 'ğŸ”„', name: 'Ethology' },
  linguistics: { icon: 'ğŸ’¬', name: 'Linguistics' },
  sociology: { icon: 'ğŸ¤', name: 'Sociology' },
  ecology: { icon: 'ğŸŒ', name: 'Ecology' },
  ethics: { icon: 'âš–ï¸', name: 'Ethics' },
};

const cat = categoryInfo[category] || { icon: 'ğŸ“„', name: category };
---

<a
  href={`/entries/${slug}`}
  class="entry-card block p-5 bg-bg-secondary border border-border-primary rounded-lg hover:border-accent-primary transition-all group"
>
  <div class="flex items-start gap-3 mb-2">
    <span class={`category-badge category-${category}`}>
      {cat.icon} {cat.name}
    </span>
    {status === 'draft' && (
      <span class="text-xs font-mono text-accent-warning bg-accent-warning/10 px-2 py-0.5 rounded border border-accent-warning/30">
        Draft
      </span>
    )}
  </div>

  <h3 class="font-mono font-bold text-lg text-text-primary group-hover:text-accent-primary transition-colors mb-2">
    {title}
  </h3>

  {description && (
    <p class="text-sm text-text-secondary mb-3 line-clamp-2">{description}</p>
  )}

  {tags.length > 0 && (
    <div class="flex flex-wrap gap-1.5">
      {tags.slice(0, 4).map((tag) => (
        <span class="text-xs font-mono text-text-muted">#{tag}</span>
      ))}
      {tags.length > 4 && (
        <span class="text-xs font-mono text-text-muted">+{tags.length - 4}</span>
      )}
    </div>
  )}
</a>
