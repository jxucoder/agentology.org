---
interface Props {
  title: string;
  slug: string;
  category: string;
  description?: string;
  status?: string;
}

const { title, slug, category, description, status } = Astro.props;

const categoryInfo: Record<string, { code: string }> = {
  archaeology: { code: 'ARCH' },
  anatomy: { code: 'ANAT' },
  taxonomy: { code: 'TAXO' },
  ethology: { code: 'ETHO' },
  linguistics: { code: 'LING' },
  sociology: { code: 'SOCI' },
  ecology: { code: 'ECOL' },
  ethics: { code: 'ETHI' },
};

const cat = categoryInfo[category] || { code: 'MISC' };
---

<a
  href={`/entries/${slug}`}
  class="entry-card block p-2 bg-bg-secondary border border-border-primary hover:border-text-primary hover:bg-bg-tertiary transition-all group"
>
  <div class="flex items-start justify-between gap-3 mb-1">
    <span class="text-xs font-mono text-text-muted">
      [{cat.code}]
    </span>
    {status === 'draft' && (
      <span class="text-xs font-mono text-accent-warning">
        draft
      </span>
    )}
  </div>

  <h3 class="font-mono font-semibold text-sm text-text-secondary group-hover:text-text-primary transition-colors mb-1">
    {title}
  </h3>

  {description && (
    <p class="text-xs text-text-muted line-clamp-1">{description}</p>
  )}
</a>
